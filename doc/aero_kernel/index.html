<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Aero"><meta name="keywords" content="rust, rustlang, rust-lang, aero_kernel"><title>aero_kernel - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><script defer src="../main.js"></script>
    <noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../aero_kernel/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><h2 class="location">Crate aero_kernel</h2><div class="block version"><div class="narrow-helper"></div><p>Version 0.1.0</p></div><div class="sidebar-elems"><a id="all-types" href="all.html"><p>See all aero_kernel's items</p></a><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#macros">Macros</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#statics">Statics</a></li><li><a href="#functions">Functions</a></li></ul></div><div id="sidebar-vars" data-name="aero_kernel" data-ty="mod" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">aero_kernel</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/aero_kernel/main.rs.html#20-192" title="goto source code">[src]</a></span></h1><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="aero" class="section-header"><a href="#aero">Aero</a></h2>
<p>Aero is a new modern, unix based operating system. It is being developed for educational purposes.</p>
<h3 id="code-organization-and-architecture" class="section-header"><a href="#code-organization-and-architecture">Code organization and architecture</a></h3>
<p>The code is divided into different <em>modules</em>, each representing a <em>subsystem</em> of the kernel.</p>
<h3 id="notes" class="section-header"><a href="#notes">Notes:</a></h3>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Unix">https://en.wikipedia.org/wiki/Unix</a></li>
</ul>
</div></details><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="acpi/index.html" title="aero_kernel::acpi mod">acpi</a></div><div class="item-right docblock-short"><p>The ACPI (Advanced Configuration and Power Interface) tables help to gather the
CPU, interrupt, and timer informations.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="apic/index.html" title="aero_kernel::apic mod">apic</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="arch/index.html" title="aero_kernel::arch mod">arch</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="cmdline/index.html" title="aero_kernel::cmdline mod">cmdline</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="drivers/index.html" title="aero_kernel::drivers mod">drivers</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="fs/index.html" title="aero_kernel::fs mod">fs</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="logger/index.html" title="aero_kernel::logger mod">logger</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="mem/index.html" title="aero_kernel::mem mod">mem</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="modules/index.html" title="aero_kernel::modules mod">modules</a></div><div class="item-right docblock-short"><p>A kernel module is an object file that contains code that can extend
the kernel functionality at runtime. When a kernel module is no longer needed,
it can be unloaded. Most of the device drivers are used in the form of kernel modules.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="prelude/index.html" title="aero_kernel::prelude mod">prelude</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="rendy/index.html" title="aero_kernel::rendy mod">rendy</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="syscall/index.html" title="aero_kernel::syscall mod">syscall</a></div><div class="item-right docblock-short"><p>System Calls are used to call a kernel service from userland.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="tests/index.html" title="aero_kernel::tests mod">tests</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="time/index.html" title="aero_kernel::time mod">time</a></div><div class="item-right docblock-short"><p>The PIT (Programmable Interval Timer) chip basically consists of an oscillator,
a prescaler and 3 independent frequency dividers and it is used to create time intervals
and calculate <em>estimate</em> time since epoch.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="tls/index.html" title="aero_kernel::tls mod">tls</a></div><div class="item-right docblock-short"><p>Thread Local Storage (TLS) are per-thread global variables. On 64-bit each CPU core’s
<code>fs</code> GDT segment points to the thread local memory area where the thread local static’s
live. TLS statics are simply accessed through an offset from <code>fs</code>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="unwind/index.html" title="aero_kernel::unwind mod">unwind</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="userland/index.html" title="aero_kernel::userland mod">userland</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="mod" href="utils/index.html" title="aero_kernel::utils mod">utils</a></div><div class="item-right docblock-short"></div></div></div><h2 id="macros" class="section-header"><a href="#macros">Macros</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="macro" href="macro.module_init.html" title="aero_kernel::module_init macro">module_init</a></div><div class="item-right docblock-short"></div></div></div><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Stivale5LevelPagingHeaderTag.html" title="aero_kernel::Stivale5LevelPagingHeaderTag struct">Stivale5LevelPagingHeaderTag</a></div><div class="item-right docblock-short"><p>If this tag is present the bootloader is instructed to enable upport for 5-level paging, if
available.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleAnyVideoTag.html" title="aero_kernel::StivaleAnyVideoTag struct">StivaleAnyVideoTag</a></div><div class="item-right docblock-short"><p>This tag tells the bootloader that the kernel has no requirement for a framebuffer
to be initialised. Omitting both the any video header tag and the framebuffer header
tag means “force CGA text mode” (where available), and the bootloader will refuse to
boot the kernel if it fails to fulfill that request.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleCommandLineTag.html" title="aero_kernel::StivaleCommandLineTag struct">StivaleCommandLineTag</a></div><div class="item-right docblock-short"><p>This tag is used to get the kernel the command line string that was passed to it by
the bootloader.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleDeviceTreeTag.html" title="aero_kernel::StivaleDeviceTreeTag struct">StivaleDeviceTreeTag</a></div><div class="item-right docblock-short"><p>This tag describes a device tree blob for the platform.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleEdidInfoTag.html" title="aero_kernel::StivaleEdidInfoTag struct">StivaleEdidInfoTag</a></div><div class="item-right docblock-short"><p>This tag is used to get the EDID information as acquired by the firmware.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleEfiSystemTableTag.html" title="aero_kernel::StivaleEfiSystemTableTag struct">StivaleEfiSystemTableTag</a></div><div class="item-right docblock-short"><p>This tag is used to get a pointer to the EFI system table if available.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleEpochTag.html" title="aero_kernel::StivaleEpochTag struct">StivaleEpochTag</a></div><div class="item-right docblock-short"><p>This tag is used to get the current UNIX epoch, as per RTC.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleFirmwareTag.html" title="aero_kernel::StivaleFirmwareTag struct">StivaleFirmwareTag</a></div><div class="item-right docblock-short"><p>This tag is used to get the info about the firmware.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleFirmwareTagFlags.html" title="aero_kernel::StivaleFirmwareTagFlags struct">StivaleFirmwareTagFlags</a></div><div class="item-right docblock-short"><p>Bitfield representing the firmware and boot flags passed by the bootloader.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleFramebufferHeaderTag.html" title="aero_kernel::StivaleFramebufferHeaderTag struct">StivaleFramebufferHeaderTag</a></div><div class="item-right docblock-short"><p>If this tag is present the bootloader is instructed to initialise a graphical
framebuffer video mode. Omitting this tag will make the bootloader default to a
CGA-compatible text mode, if supported.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleFramebufferTag.html" title="aero_kernel::StivaleFramebufferTag struct">StivaleFramebufferTag</a></div><div class="item-right docblock-short"><p>If the framebuffer tag was requested through the framebuffer tag header and its supported by the stivale
bootloader, this tag is returned to the kernel. This tag provides an interface to the framebuffer.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleHeader.html" title="aero_kernel::StivaleHeader struct">StivaleHeader</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleKernelFileTag.html" title="aero_kernel::StivaleKernelFileTag struct">StivaleKernelFileTag</a></div><div class="item-right docblock-short"><p>This tag is used to get the kernel with a pointer to a copy the raw executable
file of the kernel that the bootloader loaded.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleKernelFileV2Tag.html" title="aero_kernel::StivaleKernelFileV2Tag struct">StivaleKernelFileV2Tag</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleKernelSlideTag.html" title="aero_kernel::StivaleKernelSlideTag struct">StivaleKernelSlideTag</a></div><div class="item-right docblock-short"><p>This tag is used to get the slide that the bootloader applied over the kernel’s load
address as a positive offset.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleMemoryMapEntry.html" title="aero_kernel::StivaleMemoryMapEntry struct">StivaleMemoryMapEntry</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleMemoryMapIter.html" title="aero_kernel::StivaleMemoryMapIter struct">StivaleMemoryMapIter</a></div><div class="item-right docblock-short"><p>Iterator over all the memory regions provided by the stivale bootloader.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleMemoryMapTag.html" title="aero_kernel::StivaleMemoryMapTag struct">StivaleMemoryMapTag</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleModule.html" title="aero_kernel::StivaleModule struct">StivaleModule</a></div><div class="item-right docblock-short"><p>Structure representing a module, containing the information of a module that
the bootloader loaded alongside the kernel.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleModuleIter.html" title="aero_kernel::StivaleModuleIter struct">StivaleModuleIter</a></div><div class="item-right docblock-short"><p>Iterator over all the modules that were loaded.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleModuleTag.html" title="aero_kernel::StivaleModuleTag struct">StivaleModuleTag</a></div><div class="item-right docblock-short"><p>This tag is used to get the modules that the bootloader loaded alongside the kernel, if any.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleMtrrHeaderTag.html" title="aero_kernel::StivaleMtrrHeaderTag struct">StivaleMtrrHeaderTag</a><span class="stab deprecated" title="">Deprecated</span></div><div class="item-right docblock-short"><p>This tag tells the bootloader to, in case a framebuffer was requested, make that framebuffer’s
caching type write-combining using x86’s MTRR model specific registers. This caching type helps speed
up framebuffer writes on real hardware.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleMtrrTag.html" title="aero_kernel::StivaleMtrrTag struct">StivaleMtrrTag</a><span class="stab deprecated" title="">Deprecated</span></div><div class="item-right docblock-short"><p>This tag exists if MTRR write-combining for the framebuffer was requested and successfully enabled. See
the documentation of [crate::v2::header::StivaleMtrrHeaderTag] for more information.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivalePmr.html" title="aero_kernel::StivalePmr struct">StivalePmr</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivalePmrPermissionFlags.html" title="aero_kernel::StivalePmrPermissionFlags struct">StivalePmrPermissionFlags</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivalePmrsTag.html" title="aero_kernel::StivalePmrsTag struct">StivalePmrsTag</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivalePxeInfoTag.html" title="aero_kernel::StivalePxeInfoTag struct">StivalePxeInfoTag</a></div><div class="item-right docblock-short"><p>This tag reports that the kernel has been booted via PXE, and reports the server ip that
it was booted from.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleRsdpTag.html" title="aero_kernel::StivaleRsdpTag struct">StivaleRsdpTag</a></div><div class="item-right docblock-short"><p>This tag is used to get the location of the ACPI RSDP structure in memory.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleSmbiosTag.html" title="aero_kernel::StivaleSmbiosTag struct">StivaleSmbiosTag</a></div><div class="item-right docblock-short"><p>This tag is used to get the location of the SMBIOS entry points in memory.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleSmpHeaderTag.html" title="aero_kernel::StivaleSmpHeaderTag struct">StivaleSmpHeaderTag</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleSmpHeaderTagFlags.html" title="aero_kernel::StivaleSmpHeaderTagFlags struct">StivaleSmpHeaderTagFlags</a></div><div class="item-right docblock-short"><p>Bitfield representing the SMP header flags passed to the bootloader.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleSmpInfo.html" title="aero_kernel::StivaleSmpInfo struct">StivaleSmpInfo</a></div><div class="item-right docblock-short"><p>SMP imformation structure.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleSmpTag.html" title="aero_kernel::StivaleSmpTag struct">StivaleSmpTag</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleStruct.html" title="aero_kernel::StivaleStruct struct">StivaleStruct</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleTagHeader.html" title="aero_kernel::StivaleTagHeader struct">StivaleTagHeader</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleTerminalHeaderTag.html" title="aero_kernel::StivaleTerminalHeaderTag struct">StivaleTerminalHeaderTag</a></div><div class="item-right docblock-short"><p>If this tag is present the bootloader is instructed to set up a terminal
for use by the kernel at runtime. See “Terminal struct tag” below. The framebuffer
header tag <strong>must</strong> be specified when passing this header tag, and this tag may inhibit
the WC MTRR framebuffer feature.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleTerminalTag.html" title="aero_kernel::StivaleTerminalTag struct">StivaleTerminalTag</a></div><div class="item-right docblock-short"><p>If the terminal tag was requested through the terminal tag header and its supported by the stivale
bootloader, this tag is returned to the kernel. This tag provides an interface to the stivale terminal.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleUartTag.html" title="aero_kernel::StivaleUartTag struct">StivaleUartTag</a></div><div class="item-right docblock-short"><p>This tag reports that there is a memory mapped UART port and its address.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleUnmapNullHeaderTag.html" title="aero_kernel::StivaleUnmapNullHeaderTag struct">StivaleUnmapNullHeaderTag</a></div><div class="item-right docblock-short"><p>If this tag is present the bootloader is instructed to unmap the first page of the virtual address
space before passing control to the kernel, for architectures that support paging.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StivaleVMapTag.html" title="aero_kernel::StivaleVMapTag struct">StivaleVMapTag</a></div><div class="item-right docblock-short"><p>This tag describes the high physical memory location.</p>
</div></div></div><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.StivaleMemoryMapEntryType.html" title="aero_kernel::StivaleMemoryMapEntryType enum">StivaleMemoryMapEntryType</a></div><div class="item-right docblock-short"><p>The type of a memory map entry. The entries are guaranteed to be sorted by base address,
lowest to highest.</p>
</div></div></div><h2 id="constants" class="section-header"><a href="#constants">Constants</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="constant" href="constant.IO_VIRTUAL_BASE.html" title="aero_kernel::IO_VIRTUAL_BASE constant">IO_VIRTUAL_BASE</a></div><div class="item-right docblock-short"></div></div></div><h2 id="statics" class="section-header"><a href="#statics">Statics</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="static" href="static.AERO_SYSTEM_ALLOCATOR.html" title="aero_kernel::AERO_SYSTEM_ALLOCATOR static">AERO_SYSTEM_ALLOCATOR</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="static" href="static.CPU_ID.html" title="aero_kernel::CPU_ID static">CPU_ID</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="static" href="static.PHYSICAL_MEMORY_OFFSET.html" title="aero_kernel::PHYSICAL_MEMORY_OFFSET static">PHYSICAL_MEMORY_OFFSET</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="static" href="static.UNWIND_INFO.html" title="aero_kernel::UNWIND_INFO static">UNWIND_INFO</a></div><div class="item-right docblock-short"></div></div></div><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.aero_main.html" title="aero_kernel::aero_main fn">aero_main</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.kernel_ap_startup.html" title="aero_kernel::kernel_ap_startup fn">kernel_ap_startup</a></div><div class="item-right docblock-short"></div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.kernel_main_thread.html" title="aero_kernel::kernel_main_thread fn">kernel_main_thread</a></div><div class="item-right docblock-short"></div></div></div></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="aero_kernel" data-search-index-js="../search-index.js" data-search-js="../search.js"></div>
</body></html>